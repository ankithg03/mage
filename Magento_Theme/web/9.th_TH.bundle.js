(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1003:function(e,t,n){},1130:function(e,t,n){"use strict";n.r(t);var a=n(30),r=n.n(a),i=n(46),s=n.n(i),l=n(4),o=n.n(l),u=n(5),c=n.n(u),d=n(7),h=n.n(d),p=n(6),f=n.n(p),m=n(3),b=n.n(m),v=n(8),g=n.n(v),y=n(2),k=n.n(y),F=n(1),O=n.n(F),N=n(11),C=(n(1003),n(887)),D=n(888),A=n(908),S=n(881),w=n(71);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var j=n(10).checkBEMProps,E=function(e){function t(){return o()(this,t),h()(this,f()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"getSectionName",value:function(){return"shippingAddress"}},{key:"getTitle",value:function(){return"SHIPPING ADDRESS"}},{key:"isDisabled",value:function(){return this.props.isDisabled}},{key:"getButtonName",value:function(){return"Save"}},{key:"check",value:function(e,t){return this.props.sameAsBillingCheck(t)}},{key:"setFieldValue",value:function(e,t){var n=this.props,a=n.values;return(0,n.setSameAsBillingFalse)(),this.props.handleUpdate(this.getSectionName(),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a,k()({},e,t)))}},{key:"headerActions",value:function(){var e=this;return j(O.a,"div",{className:"same_address-action"},j(O.a,"label",{className:"same-address-label"},j(O.a,w.a,{type:"checkbox",id:"same_address",name:"same_address",placeholder:"Same As Billing Address",onChange:function(t,n){return e.check("same_address",n)},checked:this.props.checked}),j(O.a,"span",null,"Same As Billing Address")))}}]),t}(S.a),I=Object(N.b)((function(e){return{countries:e.ConfigReducer.countries}}),null)(E),x=n(65),_=n(331),B=n(177),V=n(14);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=n(10).checkBEMProps,R=function(e){function t(){var e,n,a;o()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return a=h()(this,(e=f()(t)).call.apply(e,[this].concat(i))),k()(b()(a),"state",(n={selected:0},k()(n,A.a,{}),k()(n,S.b,{}),k()(n,"shippingAddress",{}),k()(n,"isDisabled",!1),k()(n,"sameAsBillingChecked",!1),k()(n,"sameAsGeneralchecked",!1),n)),k()(b()(a),"changeTab",(function(e){a.setState((function(t){if(t.selected>e)return{selected:e}}))})),a}var n;return g()(t,e),c()(t,[{key:"componentDidMount",value:function(){(0,this.props.setMeta)({title:"Add New Customer"})}},{key:"componentWillUnmount",value:function(){(0,this.props.setMeta)(null)}},{key:"setCurrentTab",value:function(e){this.setState({selected:e})}},{key:"handleUpdate",value:function(e,t){this.setState(k()({},e,t))}},{key:"formatAddress",value:function(e){var t=this.props.countries,n=JSON.parse(JSON.stringify(e));delete n.region_name,delete n.region_id;var a=t.find((function(t){return t.id===e.country_id}));if(a&&a.available_regions){var r=a.available_regions.find((function(t){return t.id==e.region_id}));n.region={region_code:r.code,region_id:r.id}}else n.region={region:e.region_name};return n.street=[n.street],n}},{key:"handleSubmit",value:(n=s()(r.a.mark((function e(){var t,n,a,i,s,l,o,u,c,d,h,p,f;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.createCustomer,a=t.createCustomerAddress,i=t.fetchCustomer,s=t.showErrorNotification,l=t.showSuccessNotification,o=t.history,u=this.state,c=u.generalInformation,d=u.billingAddress,h=u.shippingAddress,e.prev=2,e.next=5,n(c);case 5:if(p=e.sent,f=p.customer,d.default_billing=!0,!this.state.sameAsBillingChecked){e.next=13;break}d.default_shipping=!0,d.same_as_billing=!0,e.next=16;break;case 13:return h.default_shipping=!0,e.next=16,a(f.id,this.formatAddress(h));case 16:return e.next=18,a(f.id,this.formatAddress(d));case 18:return e.next=20,i();case 20:l('Customer with email "'.concat(c.email,'" created successfully')),o.push("/salesrep/customer"),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(2),s(e.t0.message);case 27:case"end":return e.stop()}}),e,this,[[2,24]])}))),function(){return n.apply(this,arguments)})},{key:"sameAsBillingCheck",value:function(e){var t;!0===e?this.setState((function(e){var t;return t={},k()(t,"shippingAddress",G({},e[S.b])),k()(t,"sameAsBillingChecked",!0),t})):this.setState((t={},k()(t,"shippingAddress",""),k()(t,"sameAsBillingChecked",!1),t))}},{key:"sameAsGeneralInformation",value:function(e){var t,n=JSON.parse(JSON.stringify(this.state[A.a])),a=n.company,r=n.firstname,i=n.lastname,s=n.telephone,l=n.mobile;!0===e?this.setState((function(e){var t;return t={},k()(t,S.b,G({},e[S.b],{company:a,firstname:r,lastname:i,telephone:s,mobile:l})),k()(t,"sameAsGeneralchecked",!0),t})):this.setState((t={},k()(t,S.b,""),k()(t,"sameAsGeneralchecked",!1),t))}},{key:"setSameAsBillingFalse",value:function(){this.setState({sameAsBillingChecked:!1})}},{key:"render",value:function(){var e=this;return M(O.a,"div",{id:"new-customer-main"},M(O.a,"div",{className:"background",style:{backgroundImage:"url(".concat(Object(x.e)("/bg.png","salesrep"),")")}},M(O.a,"div",{className:"main-container"},M(O.a,C.a,{selected:this.state.selected,changeTab:function(t){e.changeTab(t)}},M(O.a,D.a,{title:"GENERAL INFORMATION"},M(O.a,A.b,{handleNextTab:function(){return e.setCurrentTab(1)},handleUpdate:this.handleUpdate.bind(this),values:this.state[A.a]})),M(O.a,D.a,{title:"BILLING ADDRESS"},M(O.a,S.c,{handlePreviousTab:function(){return e.setCurrentTab(0)},handleNextTab:function(){return e.setCurrentTab(2)},handleUpdate:this.handleUpdate.bind(this),values:this.state[S.b],isDisabled:this.state.isDisabled,country:this.state[S.b].country_id,region:this.state[S.b].region_name,sameAsGeneralCheck:this.sameAsGeneralInformation.bind(this),checked:this.state.sameAsGeneralchecked})),M(O.a,D.a,{title:"SHIPPING ADDRESS"},M(O.a,I,{handlePreviousTab:function(){return e.setCurrentTab(1)},handleNextTab:function(){return e.handleSubmit()},handleUpdate:this.handleUpdate.bind(this),values:this.state.shippingAddress,sameAsBillingCheck:this.sameAsBillingCheck.bind(this),isDisabled:this.state.isDisabled,checked:this.state.sameAsBillingChecked,setSameAsBillingFalse:this.setSameAsBillingFalse.bind(this)}))))))}}]),t}(F.Component),U=Object(N.b)((function(e){return{countries:e.ConfigReducer.countries}}),(function(e){return{createCustomer:function(t){return _.a.createCustomer(e,t,!1)},createCustomerAddress:function(t,n){return _.a.createCustomerAddress(e,t,n,!1)},fetchCustomer:function(){return _.a.fetchCustomer(e)},showSuccessNotification:function(t){return e(Object(V.c)("success",t))},showErrorNotification:function(t){return e(Object(V.c)("error",t))},setMeta:function(t){return B.a.setMeta(e,t)}}}))(R);n.d(t,"default",(function(){return U}))},881:function(e,t,n){"use strict";n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return D}));var a=n(2),r=n.n(a),i=n(4),s=n.n(i),l=n(5),o=n.n(l),u=n(7),c=n.n(u),d=n(6),h=n.n(d),p=n(8),f=n.n(p),m=n(11),b=n(109),v=n(71),g=n(55),y=n(44),k=n(1),F=n.n(k);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var N="billingAddress",C=n(10).checkBEMProps,D=function(e){function t(){return s()(this,t),c()(this,h()(t).apply(this,arguments))}return f()(t,e),o()(t,[{key:"getCountries",value:function(){return this.props.countries.map((function(e){return e.value=e.id,e}))}},{key:"findCountry",value:function(e){var t;return this.props.countries.map((function(n){n.id===e&&(t=n.label)})),t}},{key:"renderDashboard",value:function(){y.b.push("/salesrep/dashboard")}},{key:"getSectionName",value:function(){return N}},{key:"setFieldValue",value:function(e,t){var n=this.props.values;return this.props.handleUpdate(this.getSectionName(),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,r()({},e,t)))}},{key:"getFieldValue",value:function(e){return this.props.values[e]||""}},{key:"isDisabled",value:function(){return this.props.isDisabled}},{key:"renderActions",value:function(){return C(F.a,"div",{className:"address form-actions"},C(F.a,"div",{className:"action-btn"},C(F.a,"p",{className:"render-dashboard",onClick:this.renderDashboard},"Cancel"),C(F.a,"p",{className:"prev-btn",onClick:this.props.handlePreviousTab},"Previous"),C(F.a,"button",{className:"next-btn-action"},this.getButtonName())))}},{key:"renderInputField",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return C(F.a,v.a,{type:"text",id:e,name:e,placeholder:t,validation:a,onChange:function(t){return n.setFieldValue(e,t)},value:this.getFieldValue(e),isDisabled:this.isDisabled()})}},{key:"getTitle",value:function(){return"BILLING ADDRESS"}},{key:"renderCountryField",value:function(){var e=this,t="country_id",n=this.getCountries();return n.unshift({label:" Select Country* ",id:0,value:""}),!0===this.isDisabled()?C(F.a,v.a,{type:"text",id:t,name:t,value:this.findCountry(this.getFieldValue(t)),validation:["notEmpty"],onChange:function(n){return e.setFieldValue(t,n)},isDisabled:this.isDisabled()}):C(F.a,v.a,{type:"select",id:t,name:t,value:this.getFieldValue(t),selectOptions:n,validation:["notEmpty"],onChange:function(n){return e.setFieldValue(t,n)},isDisabled:this.isDisabled()})}},{key:"formatRegions",value:function(e){var t=e.available_regions.map((function(e){var t=e.id;e.code;return{label:e.name,id:t,value:t}}));return t.unshift({label:" Select Region* ",id:0,value:""}),t}},{key:"findRegion",value:function(e,t){var n=this.formatRegions(e).find((function(e){return e.id==t}));return n?n.label:t}},{key:"renderRegionField",value:function(){var e=this,t=this.getCountries().find((function(t){return t.id===e.getFieldValue("country_id")}));if(t&&t.available_regions){var n="region_id";return!0===this.isDisabled()?C(F.a,v.a,{type:"text",id:n,name:n,value:this.findRegion(t,this.getFieldValue(n)),onChange:function(t){return e.setFieldValue(n,t)},validation:["notEmpty"],isDisabled:this.isDisabled()}):C(F.a,v.a,{type:"select",id:n,name:n,value:this.getFieldValue(n),onChange:function(t){return e.setFieldValue(n,t)},validation:["notEmpty"],selectOptions:this.formatRegions(t)})}var a="region_name";return C(F.a,v.a,{type:"text",id:a,name:a,value:this.getFieldValue(a),onChange:function(t){return e.setFieldValue(a,t)},validation:["notEmpty"],placeholder:"State/Province*",isDisabled:this.isDisabled()})}},{key:"getButtonName",value:function(){return"Next"}},{key:"check",value:function(e,t){this.props.sameAsGeneralCheck(t)}},{key:"headerActions",value:function(){var e=this;return C(F.a,"div",{className:"same_address-action"},C(F.a,"label",{className:"same-address-label"},C(F.a,v.a,{type:"checkbox",id:"same_address",name:"same_address",placeholder:"Same As Billing Address",onChange:function(t,n){return e.check("same_address",n)},checked:this.props.checked}),C(F.a,"span",null,"Same As General Information")))}},{key:"extraField",value:function(){return null}},{key:"render",value:function(){var e=this.props.handleNextTab;return C(F.a,"div",{className:"billing-address"},C(F.a,g.a,{className:"Form FieldForm",onSubmitSuccess:e,mix:{block:"FieldForm"}},C(F.a,"div",{className:"form-header"},C(F.a,"div",{className:"form-heading"},C(F.a,"h3",null,this.getTitle())),C(F.a,"div",{className:"header-action"},this.headerActions())),C(F.a,"div",{className:"form-field"},this.extraField(),this.renderInputField("firstname","First Name*",["notEmpty"]),this.renderInputField("lastname","Last Name*",["notEmpty"]),this.renderInputField("city","City*",["notEmpty"]),this.renderRegionField(),this.renderInputField("telephone","Telephone*",["notEmpty","telephone"]),this.renderInputField("mobile","Mobile",["telephone"]),this.renderInputField("company","Business Name*",["notEmpty"]),this.renderInputField("street","Street Address*",["notEmpty"]),this.renderCountryField(),this.renderInputField("postcode","Zip/Postal Code*",["notEmpty","zipCode"]),this.renderInputField("fax","Fax"),this.renderInputField("vat_id","Vat")),this.renderActions()))}}]),t}(b.a);t.c=Object(m.b)((function(e){return{countries:e.ConfigReducer.countries}}),null)(D)},887:function(e,t,n){"use strict";var a=n(4),r=n.n(a),i=n(5),s=n.n(i),l=n(7),o=n.n(l),u=n(6),c=n.n(u),d=n(3),h=n.n(d),p=n(8),f=n.n(p),m=n(2),b=n.n(m),v=n(1),g=n.n(v),y=n(10).checkBEMProps,k=function(e){function t(e){var n;return r()(this,t),n=o()(this,c()(t).call(this,e)),b()(h()(n),"changeState",(function(e){n.setState({selected:e})})),n.state={selected:n.props.selected},n}return f()(t,e),s()(t,[{key:"render",value:function(){var e=this;return y(g.a,"div",null,y(g.a,"ul",{className:"inline"},this.props.children.map((function(t,n){var a=n===e.state.selected?"selected":"";return y(g.a,"li",{onClick:e.handleChange.bind(e,n),className:a,key:n},t.props.title)}))),y(g.a,"div",{className:"tab"},this.props.children[this.state.selected]))}},{key:"handleChange",value:function(e){this.props.changeTab(e)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.selected!==e.selected?{selected:e.selected}:null}}]),t}(v.Component);t.a=k},888:function(e,t,n){"use strict";var a=n(4),r=n.n(a),i=n(5),s=n.n(i),l=n(7),o=n.n(l),u=n(6),c=n.n(u),d=n(8),h=n.n(d),p=n(1),f=n.n(p),m=n(10).checkBEMProps,b=function(e){function t(){return r()(this,t),o()(this,c()(t).apply(this,arguments))}return h()(t,e),s()(t,[{key:"render",value:function(){return m(f.a,"div",null,this.props.children)}}]),t}(p.Component);t.a=b},894:function(e,t,n){"use strict";var a=n(4),r=n.n(a),i=n(5),s=n.n(i),l=n(7),o=n.n(l),u=n(6),c=n.n(u),d=n(3),h=n.n(d),p=n(8),f=n.n(p),m=n(2),b=n.n(m),v=n(1),g=n.n(v),y=n(933),k=n.n(y),F=(n(931),n(932),n(909),n(10).checkBEMProps),O=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=o()(this,(e=c()(t)).call.apply(e,[this].concat(i))),b()(h()(n),"state",{startDate:new Date}),b()(h()(n),"handleChange",(function(e){n.props.setDobField("dob",e),n.setState({startDate:e})})),n}return f()(t,e),s()(t,[{key:"render",value:function(){return F(g.a,k.a,{maxDate:new Date,placeholderText:"YYYY/MM/DD",dateFormat:"yyyy/MM/dd",selected:this.props.value?new Date(this.props.value):"",onChange:this.handleChange})}}]),t}(g.a.Component);t.a=O},908:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var a=n(2),r=n.n(a),i=n(4),s=n.n(i),l=n(5),o=n.n(l),u=n(7),c=n.n(u),d=n(6),h=n.n(d),p=n(8),f=n.n(p),m=n(1),b=n.n(m),v=n(109),g=n(32),y=n(55),k=n(44),F=n(894);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var N="generalInformation",C=n(10).checkBEMProps,D=function(e){function t(){return s()(this,t),c()(this,h()(t).apply(this,arguments))}return f()(t,e),o()(t,[{key:"getGender",value:function(){var e=[{id:"1",value:1,label:"Male"},{id:"2",value:2,label:"Female"},{id:"3",value:3,label:"Not Specified"}];return e.unshift({label:" Select Gender ",id:0,value:""}),e}},{key:"renderDashboard",value:function(){k.b.push("/salesrep/dashboard")}},{key:"setFieldValue",value:function(e,t){var n=this.props.values;return this.props.handleUpdate(N,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,r()({},e,t)))}},{key:"getFieldValue",value:function(e){return this.props.values[e]||""}},{key:"renderInputField",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return C(b.a,g.a,{type:r,id:e,name:e,placeholder:t,validation:a,isDisabled:i,onChange:function(t){return n.setFieldValue(e,t)},value:this.getFieldValue(e)})}},{key:"renderDobField",value:function(){return C(b.a,"div",{className:"Field dob-field"},C(b.a,F.a,{type:"date",name:"dob",setDobField:this.setDobField.bind(this),value:this.getFieldValue("dob"),placeholder:"DOB"}))}},{key:"setDobField",value:function(e,t){this.setFieldValue(e,t)}},{key:"getPasswordField",value:function(){return this.getFieldValue("auto_password")?C(b.a,g.a,{type:"text",placeholder:"Password will be auto generated",isDisabled:!0,value:""}):this.renderInputField("password","Password*",["notEmpty","password"],"password")}},{key:"renderGenderField",value:function(){var e=this;return C(b.a,"div",{className:"gender-field"},C(b.a,g.a,{type:"select",id:"gender",name:"gender",selectOptions:this.getGender(),onChange:function(t){return e.setFieldValue("gender",t)},value:this.getFieldValue("gender")}))}},{key:"render",value:function(){var e=this,t=this.props.handleNextTab;return C(b.a,"div",null,C(b.a,y.a,{className:"Form FieldForm",onSubmitSuccess:t,mix:{block:"FieldForm"}},C(b.a,"div",{className:"form-header"},C(b.a,"div",{className:"form-heading"},C(b.a,"h3",null,"GENERAL INFORMATION")),C(b.a,"div",{className:"form-actions"},C(b.a,"p",{className:"render-dashboard",onClick:this.renderDashboard},"Cancel"),C(b.a,"button",null,"Next"))),C(b.a,"hr",null),C(b.a,"div",{className:"form-field"},this.renderInputField("firstname","First Name*",["notEmpty"]),this.renderInputField("lastname","Last Name*",["notEmpty"]),this.renderInputField("middlename","Middle Name"),this.renderGenderField(),this.renderInputField("company","Business Name*",["notEmpty"]),this.renderDobField(),this.renderInputField("email","Email*",["notEmpty","email"]),this.renderInputField("telephone","Telephone*",["notEmpty","telephone"]),this.renderInputField("mobile","Mobile",["telephone"]),this.renderInputField("taxvat","Tax Id"),this.getPasswordField(),C(b.a,"div",null," "),C(b.a,"div",{className:"or-auto-gen-pass"},C(b.a,"p",{className:"or-field"},"OR"),C(b.a,"div",{className:"auto-pass-check-box"},C(b.a,"label",{className:"auto-pass-label"},C(b.a,g.a,{type:"checkbox",checked:this.getFieldValue("auto_password"),id:"auto_password",name:"auto_password",placeholder:"Auto Generated Password",onChange:function(t,n){return e.setFieldValue("auto_password",n)}}),C(b.a,"span",null,"Send Auto-Generated Password")))))))}}]),t}(v.a);t.b=D},909:function(e,t,n){}}]);